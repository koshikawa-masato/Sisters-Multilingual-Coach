# Sisters-Multilingual-Coach Requirements Specification

**Version**: 1.0
**Date**: 2025-11-27

---

## User Flow / ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Sisters-Multilingual-Coach                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  STEP 1: Writing (æ›¸ã)                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  User types English text                                 â”‚    â”‚
â”‚  â”‚  ä¾‹: "I want to go shopping tomorrow"                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                      â”‚
â”‚  STEP 2: Correction (æ·»å‰Š)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Kimi LLM corrects grammar/spelling                      â”‚    â”‚
â”‚  â”‚  "I want to go shopping tomorrow" âœ“ (correct)            â”‚    â”‚
â”‚  â”‚  or                                                      â”‚    â”‚
â”‚  â”‚  "I want go shopping" â†’ "I want to go shopping" âœ—â†’âœ“      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                      â”‚
â”‚  STEP 3: Speaking (è©±ã™)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  User reads the corrected text aloud                     â”‚    â”‚
â”‚  â”‚  ğŸ¤ [Record Button]                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                      â”‚
â”‚  STEP 4: STT Recognition (éŸ³å£°èªè­˜)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Whisper STT converts speech to text                     â”‚    â”‚
â”‚  â”‚  Recognized: "I want to go shopping tomorrow"            â”‚    â”‚
â”‚  â”‚  [Highlight differences if any]                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                      â”‚
â”‚  STEP 5: Sister Response (ä¸‰å§‰å¦¹ã®è¿”ç­”)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Three Sisters LLM responds in English                   â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  ğŸŒ¸ Botan:                                               â”‚
â”‚  â”‚  "Oh nice! Where do you want to go? I love Shibuya 109!" â”‚    â”‚
â”‚  â”‚  ã€Œã„ã„ã­ï¼ã©ã“ã«è¡ŒããŸã„ã®ï¼Ÿç§ã¯æ¸‹è°·109ãŒå¥½ãï¼ã€           â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  [ğŸ”Š Play] [ğŸ”Š Play] [ğŸ”Š Play]  â† Replay buttons          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                      â”‚
â”‚  STEP 6: Alphabet Highlight (ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆå¼·èª¿)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  "Oh nice! Where do you want to go?"                     â”‚    â”‚
â”‚  â”‚   â†‘  â†‘     â†‘              â†‘    â†‘                         â”‚    â”‚
â”‚  â”‚  Clickable words with pronunciation hints                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â†» Repeat from STEP 1 (conversation continues)                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Feature Requirements / æ©Ÿèƒ½è¦ä»¶

### F1: Text Input with Correction (ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã¨æ·»å‰Š)

| ID | Requirement | Priority |
|----|-------------|----------|
| F1.1 | User can type English text in input field | P0 |
| F1.2 | Kimi LLM corrects grammar and spelling | P0 |
| F1.3 | Show original vs corrected side-by-side | P0 |
| F1.4 | Highlight corrections (red strikethrough â†’ green) | P1 |

### F2: Speaking Practice (ã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°ç·´ç¿’)

| ID | Requirement | Priority |
|----|-------------|----------|
| F2.1 | Record button to capture user voice | P0 |
| F2.2 | Whisper STT transcribes user speech | P0 |
| F2.3 | Compare spoken vs expected text | P1 |
| F2.4 | Pronunciation accuracy score (future) | P2 |

### F3: Sister Response (ä¸‰å§‰å¦¹å¿œç­”)

| ID | Requirement | Priority |
|----|-------------|----------|
| F3.1 | Selected sister responds in English | P0 |
| F3.2 | Response includes Japanese translation | P0 |
| F3.3 | Character personality maintained | P0 |
| F3.4 | Context-aware conversation flow | P1 |

### F4: TTS Playback (éŸ³å£°å†ç”Ÿ)

| ID | Requirement | Priority |
|----|-------------|----------|
| F4.1 | Play button for each English sentence | P0 |
| F4.2 | ElevenLabs TTS generates audio | P0 |
| F4.3 | Replay unlimited times | P0 |
| F4.4 | Adjustable playback speed (future) | P2 |

### F5: Bilingual Display (ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«è¡¨ç¤º)

| ID | Requirement | Priority |
|----|-------------|----------|
| F5.1 | English text displayed prominently | P0 |
| F5.2 | Japanese translation below/beside | P0 |
| F5.3 | Toggle to hide/show Japanese | P1 |

### F6: Alphabet Highlighting (ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆå¼·èª¿)

| ID | Requirement | Priority |
|----|-------------|----------|
| F6.1 | Clickable words in response | P1 |
| F6.2 | Show pronunciation (IPA or katakana) on click | P1 |
| F6.3 | Highlight difficult words | P2 |

### F7: WhatsApp DB Integration (WhatsApp DBé€£æº)

| ID | Requirement | Priority |
|----|-------------|----------|
| F7.1 | Connect to Sisters-On-WhatsApp PostgreSQL | P0 |
| F7.2 | Load past conversation history | P1 |
| F7.3 | Continue conversations from WhatsApp | P1 |
| F7.4 | Sync learned vocabulary across platforms | P2 |

---

## System Architecture / ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Sisters-Multilingual-Coach                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Streamlit  â”‚â”€â”€â”€â”€â–¶â”‚   Kimi LLM  â”‚â”€â”€â”€â”€â–¶â”‚ Correction  â”‚         â”‚
â”‚  â”‚  Frontend   â”‚     â”‚   (æ·»å‰Š)    â”‚     â”‚   Display   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                                       â”‚                 â”‚
â”‚         â–¼                                       â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Microphone â”‚â”€â”€â”€â”€â–¶â”‚   Whisper   â”‚â”€â”€â”€â”€â–¶â”‚  Comparison â”‚         â”‚
â”‚  â”‚  Recording  â”‚     â”‚    STT      â”‚     â”‚   Display   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                                       â”‚                 â”‚
â”‚         â–¼                                       â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Sisters    â”‚â”€â”€â”€â”€â–¶â”‚  ElevenLabs â”‚â”€â”€â”€â”€â–¶â”‚   Audio     â”‚         â”‚
â”‚  â”‚  LLM        â”‚     â”‚    TTS      â”‚     â”‚   Player    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        External Services                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚              PostgreSQL (Sisters-On-WhatsApp)            â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚     â”‚
â”‚  â”‚  â”‚conversation â”‚  â”‚   users     â”‚  â”‚  learning   â”‚      â”‚     â”‚
â”‚  â”‚  â”‚  _sessions  â”‚  â”‚             â”‚  â”‚   _progress â”‚      â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Schema Extension / DBã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µ

### New Table: learning_sessions

```sql
CREATE TABLE learning_sessions (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50),           -- Links to WhatsApp phone or web user
    session_type VARCHAR(20),      -- 'whatsapp' or 'web_coach'
    sister_name VARCHAR(20),       -- 'Botan', 'Kasho', 'Yuri'

    -- User input
    user_original_text TEXT,       -- What user typed
    corrected_text TEXT,           -- Kimi's correction
    user_spoken_text TEXT,         -- What STT recognized

    -- Sister response
    sister_response_en TEXT,       -- English response
    sister_response_jp TEXT,       -- Japanese translation
    audio_url VARCHAR(255),        -- TTS audio file path

    -- Learning metrics
    correction_count INT DEFAULT 0,
    pronunciation_score FLOAT,     -- Future: 0.0-1.0

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Shared Table: conversation_sessions (existing)

Already exists in Sisters-On-WhatsApp. Will be read for conversation history.

---

## UI Mockup / UI ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ Sisters Multilingual Coach          [ğŸŒ¸ Botan â–¼] [EN â–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ’¬ Type your English:                                    â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ I want go to shopping tomorrow                       â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                          [Check âœ“]       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœï¸ Corrected:                                            â”‚ â”‚
â”‚  â”‚ "I want ~go~ to go shopping tomorrow"                    â”‚ â”‚
â”‚  â”‚         â†‘ missing "to"                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ¤ Now read it aloud:                                    â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚              [ğŸ¤ Hold to Record]                         â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ You said: "I want to go shopping tomorrow" âœ…            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŒ¸ Botan:                                                â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ "Oh nice! Where do you want to go? I love Shibuya 109!" â”‚ â”‚
â”‚  â”‚ ã€Œã„ã„ã­ï¼ã©ã“ã«è¡ŒããŸã„ã®ï¼Ÿç§ã¯æ¸‹è°·109ãŒå¥½ãï¼ã€         â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ [ğŸ”Š Play English]  [ğŸ”Š ã‚‚ã†ä¸€åº¦]  [ğŸ“ Words]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“š Word Highlights:                                      â”‚ â”‚
â”‚  â”‚ â€¢ Shibuya (ã‚·ãƒ–ãƒ¤) - district in Tokyo                   â”‚ â”‚
â”‚  â”‚ â€¢ 109 (ãƒ¯ãƒ³ã‚ªãƒ¼ãƒŠã‚¤ãƒ³) - famous shopping building        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Endpoints / APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/correct` | POST | Kimi corrects user text |
| `/api/transcribe` | POST | Whisper STT |
| `/api/respond` | POST | Sisters LLM response |
| `/api/tts` | POST | ElevenLabs TTS |
| `/api/history` | GET | Load WhatsApp conversation history |

---

## Technology Stack / æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| Component | Technology | Notes |
|-----------|------------|-------|
| Frontend | Streamlit | Rapid prototyping, audio support |
| Correction LLM | Kimi | Cost-effective |
| Conversation LLM | Kimi / OpenAI | Personality-driven |
| STT | OpenAI Whisper | Multi-language |
| TTS | ElevenLabs | eleven_multilingual_v2 |
| Database | PostgreSQL | Shared with WhatsApp |
| Audio Recording | streamlit-webrtc | Browser mic access |

---

## Development Phases / é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: MVP (Today)
- [ ] Text input + Kimi correction
- [ ] Basic TTS playback
- [ ] Single sister (Botan)

### Phase 2: Speaking
- [ ] Microphone recording
- [ ] Whisper STT integration
- [ ] Comparison display

### Phase 3: Full Experience
- [ ] All three sisters
- [ ] Bilingual display
- [ ] Word highlighting
- [ ] WhatsApp DB integration

### Phase 4: Enhancement
- [ ] Pronunciation scoring
- [ ] Learning progress tracking
- [ ] Vocabulary review system

---

**Document Status**: Draft
**Author**: Koshikawa Masato & Kuroko (Claude Code)
